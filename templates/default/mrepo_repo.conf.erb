# /etc/mrepo.conf.d/<%= @name %>.conf
#
# DO NOT EDIT!
# This file ismanaged by Chef, and any changes local to
# this system (<%= node['fqdn'] %>)
# will be overwritten at the next chef-client run.
#

<% #------------------------------------------------------------- -%>
[<%= @name %>]
<% puts @repo -%>
<% @repo.map do |key, value| -%>
<%   # Channels will be handled below -%>
<%   next if key.eql?("channels") -%>
<%   if value.kind_of?(Array) -%>
<%=    "#{key} = #{value.join(' ')}" %>
<%   else -%>
<%=    "#{key} = #{value}" %>
<%   end -%>
<% end -%>

<% #------------------------------------------------------------- -%>
<% @repo['channels'].map do |key, value| -%>
<%   if value.kind_of?(Array) -%>
<%=    "#{key} = #{value.join(' ')}" %>
<%   else -%>
<%=    "#{key} = #{value}" %>
<%   end -%>
<% end -%>

